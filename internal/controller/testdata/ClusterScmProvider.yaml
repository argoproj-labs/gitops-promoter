# ClusterScmProvider represents a SCM instance (such as GitHub). ClusterScmProvider is the cluster-scoped alternative to
# the ScmProvider. It references a Secret in the same namespace where the promoter is running to enable access via
# some configured auth mechanism. A ClusterScmProvider can be referenced by any GitRepository in the cluster, regardless
# of namespace.
#
# You must specify either github, gitlab, forgejo, gitea, bitbucketCloud or azureDevOps. Multiple are provided here as
# examples so you can see available fields per provider. If you do not need to specify any sub-fields, just set the
# field to {}.
apiVersion: promoter.argoproj.io/v1alpha1
kind: ClusterScmProvider
metadata:
  name: example-cluster-scm-provider
spec:
  secretRef:
    # Secret must be in the same namespace where the promoter is running
    name: example-cluster-scm-provider-secret

  # You must specify either github, gitlab, forgejo, or bitbucketCloud. Multiple are provided here as examples.
  # If you do not need to specify any sub-fields, just set the field to {}.
  github:
    domain: github.example.com  # Optional, leave empty for default github.com
    appID: 1234
    installationID: 1234  # Optional

  gitlab:
    domain: ""  # Optional

  forgejo:
    domain: forgejo.example.com

  gitea:
    domain: gitea.example.com

  bitbucketCloud: {}

  azureDevOps:
    organization: my-organization
    domain: ""  # Optional
