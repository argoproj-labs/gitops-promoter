/*
Copyright 2024.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
// Code generated by controller-gen-v0.20. DO NOT EDIT.

package v1alpha1

import (
	v1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

// HTTPRequestSpecApplyConfiguration represents a declarative configuration of the HTTPRequestSpec type for use
// with apply.
//
// HTTPRequestSpec defines the HTTP request configuration.
//
// The URL, Headers, and Body fields support Go templates with the following variables:
// - {{ .ReportedSha }}: the commit SHA being reported on (based on reportOn setting)
// - {{ .LastSuccessfulSha }}: last SHA that achieved success (empty until first success)
// - {{ .Phase }}: phase from previous reconcile (success/pending/failure, defaults to pending)
// - {{ .PromotionStrategy }}: full PromotionStrategy object
// - {{ .Environment }}: current environment status from PromotionStrategy
// - {{ .NamespaceMetadata.Labels }}: map of labels from the namespace
// - {{ .NamespaceMetadata.Annotations }}: map of annotations from the namespace
//
// Example: "https://api.example.com/validate/{{ .Environment.Branch }}/{{ .ReportedSha }}"
type HTTPRequestSpecApplyConfiguration struct {
	// URLTemplate is the HTTP endpoint to request.
	// Supports Go templates (see HTTPRequestSpec for available variables).
	URLTemplate *string `json:"urlTemplate,omitempty"`
	// Method is the HTTP method to use.
	Method *string `json:"method,omitempty"`
	// HeaderTemplates are additional HTTP headers to include in the request.
	// The map key is the header name and the value is the header value (supports Go templates).
	// See HTTPRequestSpec for available template variables.
	HeaderTemplates map[string]string `json:"headerTemplates,omitempty"`
	// BodyTemplate is the request body to send.
	// Supports Go templates (see HTTPRequestSpec for available variables).
	BodyTemplate *string `json:"bodyTemplate,omitempty"`
	// Timeout is the maximum time to wait for the HTTP request to complete.
	Timeout *v1.Duration `json:"timeout,omitempty"`
	// Authentication specifies authentication configuration for the HTTP request.
	//
	// Supports multiple authentication methods:
	// - Basic Auth: HTTP Basic Authentication with username/password
	// - Bearer Token: Bearer token authentication (e.g., API keys, JWTs)
	// - OAuth2: OAuth2 client credentials flow for obtaining access tokens
	// - TLS: Mutual TLS (mTLS) with client certificates
	//
	// All credentials must be stored in Kubernetes secrets and referenced via secretRef fields.
	//
	// Examples:
	// # Basic Auth
	// authentication:
	// basic:
	// secretRef:
	// name: my-creds
	//
	// # Bearer Token
	// authentication:
	// bearer:
	// secretRef:
	// name: api-token
	//
	// # OAuth2 Client Credentials
	// authentication:
	// oauth2:
	// tokenURL: "https://auth.example.com/oauth/token"
	// secretRef:
	// name: oauth-creds
	//
	// # TLS Client Certificate
	// authentication:
	// tls:
	// secretRef:
	// name: my-tls-cert
	Authentication *HttpAuthenticationApplyConfiguration `json:"authentication,omitempty"`
}

// HTTPRequestSpecApplyConfiguration constructs a declarative configuration of the HTTPRequestSpec type for use with
// apply.
func HTTPRequestSpec() *HTTPRequestSpecApplyConfiguration {
	return &HTTPRequestSpecApplyConfiguration{}
}

// WithURLTemplate sets the URLTemplate field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the URLTemplate field is set to the value of the last call.
func (b *HTTPRequestSpecApplyConfiguration) WithURLTemplate(value string) *HTTPRequestSpecApplyConfiguration {
	b.URLTemplate = &value
	return b
}

// WithMethod sets the Method field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Method field is set to the value of the last call.
func (b *HTTPRequestSpecApplyConfiguration) WithMethod(value string) *HTTPRequestSpecApplyConfiguration {
	b.Method = &value
	return b
}

// WithHeaderTemplates puts the entries into the HeaderTemplates field in the declarative configuration
// and returns the receiver, so that objects can be build by chaining "With" function invocations.
// If called multiple times, the entries provided by each call will be put on the HeaderTemplates field,
// overwriting an existing map entries in HeaderTemplates field with the same key.
func (b *HTTPRequestSpecApplyConfiguration) WithHeaderTemplates(entries map[string]string) *HTTPRequestSpecApplyConfiguration {
	if b.HeaderTemplates == nil && len(entries) > 0 {
		b.HeaderTemplates = make(map[string]string, len(entries))
	}
	for k, v := range entries {
		b.HeaderTemplates[k] = v
	}
	return b
}

// WithBodyTemplate sets the BodyTemplate field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the BodyTemplate field is set to the value of the last call.
func (b *HTTPRequestSpecApplyConfiguration) WithBodyTemplate(value string) *HTTPRequestSpecApplyConfiguration {
	b.BodyTemplate = &value
	return b
}

// WithTimeout sets the Timeout field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Timeout field is set to the value of the last call.
func (b *HTTPRequestSpecApplyConfiguration) WithTimeout(value v1.Duration) *HTTPRequestSpecApplyConfiguration {
	b.Timeout = &value
	return b
}

// WithAuthentication sets the Authentication field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Authentication field is set to the value of the last call.
func (b *HTTPRequestSpecApplyConfiguration) WithAuthentication(value *HttpAuthenticationApplyConfiguration) *HTTPRequestSpecApplyConfiguration {
	b.Authentication = value
	return b
}
